{"ast":null,"code":"var _jsxFileName = \"C:\\\\BackendFile\\\\youtube\\\\frontend\\\\src\\\\Pages\\\\History\\\\history.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './history.css';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HistoryPage = sideNavbar => {\n  _s();\n  const [history, setHistory] = useState([]);\n  useEffect(() => {\n    const fetchHistory = async () => {\n      try {\n        const response = await axios.get('http://localhost:4000/User-history/fetch-history', {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        setHistory(response.data.history);\n      } catch (error) {\n        console.log('Failed to fetch history', error);\n      }\n    };\n    fetchHistory();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"history\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Your Watch History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: sideNavbar ? 'home_mainPage' : 'fullHome_mainPage',\n      children: history.length > 0 ? history.map(video => {\n        var _video$user, _video$user2;\n        return /*#__PURE__*/_jsxDEV(Link, {\n          to: `/watch/${video._id}`,\n          className: \"youtube_Video\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"youtube_thumbnailBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: video.thumbnail || 'https://via.placeholder.com/300x180?text=No+Thumbnail',\n              alt: \"Thumbnail\",\n              className: \"youtube_thumbnailPic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"youtube_timingThumbnail\",\n              children: \"28:05\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"youtubeTitleBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"youtubeTitleBoxProfile\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: (video === null || video === void 0 ? void 0 : (_video$user = video.user) === null || _video$user === void 0 ? void 0 : _video$user.profilePic) || 'https://via.placeholder.com/50?text=No+Profile',\n                alt: \"Profile\",\n                className: \"youtube_thumbnail_profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 43,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"youtubeTitleBox_title\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"youtube_videoTitle\",\n                children: (video === null || video === void 0 ? void 0 : video.title) || 'Untitled'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"youtube_channelName\",\n                children: (video === null || video === void 0 ? void 0 : (_video$user2 = video.user) === null || _video$user2 === void 0 ? void 0 : _video$user2.channelName) || 'Unknown Channel'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"youtube_videoViews\",\n                children: [(video === null || video === void 0 ? void 0 : video.like) || 0, \" likes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 23\n          }, this)]\n        }, video._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No videos available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), history.map(item => /*#__PURE__*/_jsxDEV(Link, {\n      to: `/watch/${item.videoId._id}`,\n      className: \"history-video\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: item.videoId.thumbnail,\n        alt: \"....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: item.videoId.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Watched on: \", new Date(item.watchedAt).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this)]\n    }, item._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n_s(HistoryPage, \"PUqjgfw0ccPwtx6QxD6fWqJYeMQ=\");\n_c = HistoryPage;\nexport default HistoryPage;\nvar _c;\n$RefreshReg$(_c, \"HistoryPage\");","map":{"version":3,"names":["useEffect","useState","axios","Link","jsxDEV","_jsxDEV","HistoryPage","sideNavbar","_s","history","setHistory","fetchHistory","response","get","headers","Authorization","localStorage","getItem","data","error","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","video","_video$user","_video$user2","to","_id","src","thumbnail","alt","user","profilePic","title","channelName","like","item","videoId","Date","watchedAt","toLocaleString","_c","$RefreshReg$"],"sources":["C:/BackendFile/youtube/frontend/src/Pages/History/history.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport './history.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst HistoryPage = (sideNavbar) => {\r\n    const [history, setHistory] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchHistory = async () => {\r\n            try {\r\n                const response = await axios.get('http://localhost:4000/User-history/fetch-history', {\r\n                    headers: {\r\n                        Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                    },\r\n                });\r\n                setHistory(response.data.history);\r\n            } catch (error) {\r\n                console.log('Failed to fetch history', error);\r\n            }\r\n        };\r\n\r\n        fetchHistory();\r\n    }, []);\r\n\r\n    return (\r\n        <div className='history'>\r\n            <h2>Your Watch History</h2>\r\n            <div className={sideNavbar ? 'home_mainPage' : 'fullHome_mainPage'}>\r\n                {history.length > 0 ? (\r\n                  history.map((video) => (\r\n                    <Link key={video._id} to={`/watch/${video._id}`} className=\"youtube_Video\">\r\n                      <div className=\"youtube_thumbnailBox\">\r\n                        <img\r\n                          src={video.thumbnail || 'https://via.placeholder.com/300x180?text=No+Thumbnail'}\r\n                          alt=\"Thumbnail\"\r\n                          className=\"youtube_thumbnailPic\"\r\n                        />\r\n                        <div className=\"youtube_timingThumbnail\">28:05</div>\r\n                      </div>\r\n                      <div className=\"youtubeTitleBox\">\r\n                        <div className=\"youtubeTitleBoxProfile\">\r\n                          <img\r\n                            src={video?.user?.profilePic || 'https://via.placeholder.com/50?text=No+Profile'}\r\n                            alt=\"Profile\"\r\n                            className=\"youtube_thumbnail_profile\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"youtubeTitleBox_title\">\r\n                          <div className=\"youtube_videoTitle\">{video?.title || 'Untitled'}</div>\r\n                          <div className=\"youtube_channelName\">{video?.user?.channelName || 'Unknown Channel'}</div>\r\n                          <div className=\"youtube_videoViews\">{video?.like || 0} likes</div>\r\n                        </div>\r\n                      </div>\r\n                    </Link>\r\n                  ))\r\n                ) : (\r\n                  <div>No videos available</div>\r\n                )}\r\n              </div>\r\n\r\n\r\n            {history.map((item) => (\r\n                <Link key={item._id} to={`/watch/${item.videoId._id}`} className='history-video'>\r\n                    <img src={item.videoId.thumbnail} alt='....'/>\r\n                    <p>{item.videoId.title}</p>\r\n                    <p>Watched on: {new Date(item.watchedAt).toLocaleString()}</p>\r\n                </Link>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HistoryPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}